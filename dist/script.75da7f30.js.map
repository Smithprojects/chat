{"version":3,"sources":["script.js"],"names":["socket","io","$form","document","getElementById","$messageInput","$displayAllMessages","$allChatMessages","querySelector","countMessages","username","emit","on","data","console","log","insertAdjacentHTML","buddyBlockMessage","message","querySelectorAll","length","lastElementChild","blockDubleMessage","addEventListener","e","preventDefault","value","youBlockMessage","image"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["const socket = io('http://localhost:3000')\r\nconst $form = document.getElementById('messForm')\r\nconst $messageInput = document.getElementById('message')\r\nconst $displayAllMessages = document.getElementById('all_mess')\r\nconst $allChatMessages = document.querySelector('.messages__wrap')\r\nlet countMessages = 0\r\n\r\n\r\n// const username = prompt('What is your name?')\r\nconst username = 'Smith'\r\n// appendMessage('You joined')\r\nsocket.emit('new-user', username)\r\n\r\nsocket.on('chat-message', data => {\r\n  // let countMessages =+ 1\r\n\r\n  console.log(data);\r\n  // appendMessage(`${data.username}: ${data.message}`)\r\n  $allChatMessages.insertAdjacentHTML('beforeend', buddyBlockMessage(data.message, data.username))\r\n\r\n  if (countMessages < [...$allChatMessages.querySelectorAll('.card-a')].length || countMessages == 0) {\r\n      \r\n      $allChatMessages.insertAdjacentHTML('beforeend', buddyBlockMessage(data.message, data.username))\r\n\r\n      \r\n  } else {\r\n        \r\n\r\n        $allChatMessages.lastElementChild.insertAdjacentHTML('afterbegin', blockDubleMessage(data.message))\r\n      \r\n      \r\n  }\r\n})\r\n\r\nsocket.on('user-connected', username => {\r\n  // console.log(data);\r\n  // appendMessage(`${username} connected`)\r\n})\r\n\r\nsocket.on('user-disconnect', username => {\r\n  // appendMessage(`${username} disconnect`)\r\n})\r\n\r\n$form.addEventListener('submit', e => {\r\n  e.preventDefault()\r\n  const message = $messageInput.value\r\n  // appendMessage(`You: ${message}`)\r\n\r\n  \r\n  if (countMessages < [...$allChatMessages.querySelectorAll('.card-a')].length || countMessages == 0) {\r\n    countMessages =+ 1\r\n    $allChatMessages.insertAdjacentHTML('beforeend', youBlockMessage(message, username))\r\n\r\n    console.log('chat', countMessages)\r\n\r\n    socket.emit('send-chat-message', message)\r\n    $messageInput.value = ''\r\n  } else {\r\n        \r\n\r\n    $allChatMessages.lastElementChild.insertAdjacentHTML('afterbegin', blockDubleMessage(message))\r\n    \r\n    socket.emit('send-chat-message', message)\r\n    $messageInput.value = ''\r\n  }\r\n})\r\n\r\n// function appendMessage(message) {\r\n//     const messageElement = document.createElement('div')\r\n//     messageElement.innerText = message\r\n//     $displayAllMessages.append(messageElement)\r\n// }\r\n\r\n\r\n// $messagesWrap.insertAdjacentHTML('beforeend', youBlockMessage('test', username))\r\n\r\nfunction blockDubleMessage(message) {\r\n  return `\r\n    <div class=\"card-a__text card-a__text_form-2\">\r\n      <div class=\"card-a__text-position\">${message}</div>\r\n    </div>\r\n  `\r\n}\r\n\r\nfunction youBlockMessage(message, username = 'You name', image = '/2.7fdf3601.png') {\r\n  return `\r\n  <div class=\"messages__card-a card-a\">\r\n    <div class=\"card-a__text card-a__text_form-2\">\r\n      <div class=\"card-a__text-position\">${message}</div>\r\n    </div>\r\n    <div class=\"card-a__autor\">\r\n      <div class=\"card-a__avatar\">\r\n        <img class=\"card-a__img\" src=\"${image}\" alt=\"\">\r\n      </div>\r\n      <div class=\"card-a__name\">\r\n        <p class=\"card-a__name-text\">${username}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  `\r\n}\r\n\r\nfunction buddyBlockMessage(message, username = 'Buddy name', image = '/1.018fb9b1.png') {\r\n  return `\r\n  <div class=\"messages__card-a card-a card-a_f-start\">\r\n    <div class=\"card-a__text card-a__text_form-1\">\r\n      <div class=\"card-a__text-position\">${message}</div>\r\n    </div>\r\n    <div class=\"card-a__autor\">\r\n      <div class=\"card-a__avatar\">\r\n        <img class=\"card-a__img\" src=\"${image}\" alt=\"\">\r\n      </div>\r\n      <div class=\"card-a__name\">\r\n        <p class=\"card-a__name-text\">${username}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  `\r\n}"]}
